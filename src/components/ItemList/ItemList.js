import React, { useState, useEffect } from 'react';
import { Item } from '../Item/Item';
import { makeStyles } from '@material-ui/core/styles';
import Grid from '@material-ui/core/Grid';

const useStyles = makeStyles((theme) => ({
    root: {
        flexGrow: 1,
    },
}));

const promiseData = () => {
    return new Promise((resolve, reject) => {
        setTimeout(() => resolve(
            [{ "id": 10, "name": 'Telecaster', "price": 2550, "destacado": true, "stock": 5, "initial": 0, "productImg": "https://bairesrocks.vteximg.com.br/arquivos/ids/205176/901818-MLA40608594961_012020-F.jpg?v=637313070689700000" },
            { "id": 11, "name": 'Les Paul', "price": 2320, "destacado": true, "stock": 3, "initial": 0, "productImg": "data:image/jpeg;base64,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" },
            { "id": 12, "name": 'Stratocaster', "price": 2950, "destacado": true, "stock": 2, "initial": 0, "productImg": "data:image/jpeg;base64,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" },
            { "id": 13, "name": 'Jazzmaster', "price": 3000, "destacado": false, "stock": 2, "initial": 0, "productImg": "" },
            ]), 3000);
    })
}

export const ItemList = () => {

    const [dataToShow, setDataToShow] = useState([]);

    const ejecutar = () => {
        promiseData().then(data => {
            const dataFiltrada = data.filter(element => element.destacado)
            setDataToShow(dataFiltrada)
        })
    }

    useEffect(() => {
        ejecutar();
    }, [])

    const classes = useStyles();

    return <>
        {dataToShow.length === 0 ? (<h1>Cargando...</h1>) : (<div className={classes.root}>
            <h4>Mostrando {dataToShow.length} productos</h4>
            <Grid container spacing={3}>

                {dataToShow.map((element) => <Grid key={element.id} item xs={12} sm={4}><Item name={element.name} price={element.price} stock={element.stock} productImg={element.productImg} /></Grid>)}

            </Grid>
        </div>)}
    </>
}